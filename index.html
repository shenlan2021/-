<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç»†èƒä¿å«æˆ˜ï¼šç‹ç‰Œç‰¹å·¥é˜Ÿ</title>
    <style>
        :root {
            --primary-blue: #007bff;
            --primary-yellow: #ffc107;
            --primary-orange: #fd7e14;
            --bg-color: #f8f9fa;
        }

        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        #game-container {
            background: white;
            width: 90%;
            max-width: 600px;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }

        h1 { color: #333; margin-bottom: 10px; }
        .score-board { font-size: 1.2rem; color: #666; margin-bottom: 20px; }

        #scenario-box {
            background: #e9ecef;
            padding: 20px;
            border-radius: 15px;
            min-height: 100px;
            margin-bottom: 30px;
            font-size: 1.1rem;
            line-height: 1.6;
            color: #444;
            border-left: 5px solid var(--primary-blue);
        }

        .agent-selector {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
        }

        .agent-card {
            cursor: pointer;
            padding: 15px;
            border: 3px solid transparent;
            border-radius: 12px;
            transition: all 0.2s;
            width: 80px;
        }

        .agent-card img { width: 50px; height: 50px; display: block; margin: 0 auto 10px; }
        .agent-card span { font-weight: bold; font-size: 0.9rem; }

        /* ç‰¹å·¥é¢œè‰² */
        .vc { color: var(--primary-blue); }
        .vc.selected { border-color: var(--primary-blue); background: #e7f1ff; }
        
        .ve { color: #856404; }
        .ve.selected { border-color: var(--primary-yellow); background: #fff3cd; }

        .caro { color: var(--primary-orange); }
        .caro.selected { border-color: var(--primary-orange); background: #fff3e0; }

        #submit-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 12px 40px;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.3s;
        }

        #submit-btn:hover { background: #218838; }

        #feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            display: none;
        }

        .correct { background: #d4edda; color: #155724; }
        .wrong { background: #f8d7da; color: #721c24; }

        #next-btn {
            margin-top: 15px;
            display: none;
            background: #6c757d;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>

<div id="game-container">
    <h1>ğŸ›¡ï¸ ç»†èƒä¿å«æˆ˜</h1>
    <p>â€”â€” ç‹ç‰Œç‰¹å·¥é˜Ÿ â€”â€”</p>
    <div class="score-board">å½“å‰å¾—åˆ†: <span id="score">0</span></div>

    <div id="scenario-box">
        æ­£åœ¨åŠ è½½ä»»åŠ¡æƒ…æŠ¥...
    </div>

    <p style="color: #888; font-size: 0.8rem;">ç‚¹å‡»å›¾æ ‡é€‰æ‹©ç‰¹å·¥ï¼ˆå¯å¤šé€‰ï¼‰ï¼Œç„¶åæäº¤</p>
    <div class="agent-selector">
        <div class="agent-card vc" onclick="toggleAgent(this, 'VC')">
            <div style="font-size: 40px;">ğŸ’™</div>
            <span>ç‰¹å·¥ VC</span>
        </div>
        <div class="agent-card ve" onclick="toggleAgent(this, 'VE')">
            <div style="font-size: 40px;">ğŸ’›</div>
            <span>ç‰¹å·¥ VE</span>
        </div>
        <div class="agent-card caro" onclick="toggleAgent(this, 'CARO')">
            <div style="font-size: 40px;">ğŸ§¡</div>
            <span>ç‰¹å·¥ èƒ¡</span>
        </div>
    </div>

    <button id="submit-btn" onclick="submitAnswer()">ç¡®è®¤æ´¾å¾€æˆ˜åœº</button>
    
    <div id="feedback"></div>
    <button id="next-btn" onclick="nextQuestion()">æ¥ä¸‹ä¸€é¡¹ä»»åŠ¡</button>
</div>

<script>
    const scenarios = [
        {
            text: "è­¦æŠ¥ï¼ä¸»äººåˆšæ‰åœ¨å®¤å¤–æŠ½äº†ä¸€æ”¯çƒŸï¼Œå¹¶æ²¡æœ‰æˆ´å£ç½©èµ°è¿‡äº†é›¾éœ¾åŒºï¼å¤§é‡è‡ªç”±åŸºæ¶Œå…¥è¡€æ¶²å’Œè‚ºéƒ¨ï¼",
            correct: ["VC", "VE"],
            explanation: "è§£æï¼šVCåœ¨è¡€æ¶²ï¼ˆæ°´æº¶æ€§ï¼‰æ‹¦æˆªï¼ŒVEä¿æŠ¤è‚ºéƒ¨åŠè¡€ç®¡ç»†èƒè†œï¼ˆè„‚æº¶æ€§ï¼‰ã€‚éœ€è”åˆä½œæˆ˜ï¼"
        },
        {
            text: "è­¦æŠ¥ï¼ä¸»äººä¸­åˆåƒäº†ä¸€é¡¿å…¨æ˜¯ç…ç‚¸çƒ§çƒ¤çš„å‰©é¥­å‰©èœï¼Œå¤§é‡æ°§åŒ–æ²¹è„‚æ­£åœ¨æ”»å‡»èº«ä½“ï¼",
            correct: ["VE"],
            explanation: "è§£æï¼šæ²¹è„‚æ°§åŒ–ç›´æ¥å¨èƒè„‚ç±»ç¯å¢ƒï¼ŒVEæ˜¯è„‚æº¶æ€§ç¯å¢ƒçš„ä¸»åŠ›å†›ï¼"
        },
        {
            text: "è­¦æŠ¥ï¼ä¸»äººä¸ºäº†èµ¶æŠ¥å‘Šï¼Œå·²ç»è¿ç»­ç›¯ç€é«˜äº®åº¦çš„ç”µè„‘å±å¹•çœ‹äº†4ä¸ªå°æ—¶ï¼è“å…‰æ­£åœ¨æ”»å‡»çœ¼éƒ¨ï¼",
            correct: ["CARO"],
            explanation: "è§£æï¼šç±»èƒ¡èåœç´ ï¼ˆå¦‚å¶é»„ç´ ï¼‰æ˜¯çœ¼ç›çš„å®ˆæŠ¤ç¥ï¼Œèƒ½è¿‡æ»¤è“å…‰ä¿æŠ¤é»„æ–‘åŒºã€‚"
        },
        {
            text: "ç´§æ€¥æƒ…å†µï¼ä½“æ£€å‘ç°ä¸»äººä½“å†…é‡é‡‘å±é“…è¶…æ ‡ï¼Œä¸”æœ€è¿‘çš®è‚¤ç‰¹åˆ«æš—æ²‰ã€‚éœ€è¦å“ªä½ç‰¹å·¥æ’æ¯’ç¾ç™½ï¼Ÿ",
            correct: ["VC"],
            explanation: "è§£æï¼šVCç‰¹å·¥æ‹¥æœ‰ä¿ƒè¿›é“…æ’å‡ºå’Œè¿˜åŸé»‘è‰²ç´ çš„åŒé‡ç‹¬é—¨ç»æŠ€ï¼"
        },
        {
            text: "ç»ˆææŒ‘æˆ˜ï¼ä¸»äººåœ¨å¤å¤©æ²¡æ¶‚é˜²æ™’éœœå»æµ·è¾¹æš´æ™’äº†ä¸€ä¸‹åˆï¼Œçš®è‚¤çº¢çƒ«ï¼Œå…¨èº«é¢ä¸´æ°§åŒ–å±æœºï¼",
            correct: ["VC", "VE", "CARO"],
            explanation: "è§£æï¼šæš´æ™’æ˜¯å…¨æ–¹ä½æ”»å‡»ï¼VCä¿®å¤èƒ¶åŸï¼ŒVEæŠ¤è†œï¼Œç±»èƒ¡èåœç´ å¾¡ç´«å¤–çº¿ã€‚å¿…é¡»1+1+1>3ï¼"
        }
    ];

    let currentIdx = 0;
    let score = 0;
    let selectedAgents = [];

    function loadScenario() {
        if (currentIdx >= scenarios.length) {
            document.getElementById('game-container').innerHTML = `
                <h2>ğŸ‰ æˆ˜å½¹èƒœåˆ©ï¼</h2>
                <p>ä½ æœ€ç»ˆè·å¾—äº† ${score} åˆ†</p>
                <p>ä½ å·²ç»æŒæ¡äº†æŠ—æ°§åŒ–ä¸‰å‰‘å®¢çš„æ ¸å¿ƒå¥¥ç§˜ï¼</p>
                <button onclick="location.reload()" style="padding:10px 20px; cursor:pointer;">é‡æ–°å¼€å§‹</button>
            `;
            return;
        }
        document.getElementById('scenario-box').innerText = scenarios[currentIdx].text;
        resetSelection();
    }

    function toggleAgent(el, agent) {
        if (el.classList.contains('selected')) {
            el.classList.remove('selected');
            selectedAgents = selectedAgents.filter(a => a !== agent);
        } else {
            el.classList.add('selected');
            selectedAgents.push(agent);
        }
    }

    function resetSelection() {
        selectedAgents = [];
        document.querySelectorAll('.agent-card').forEach(card => card.classList.remove('selected'));
        document.getElementById('feedback').style.display = 'none';
        document.getElementById('next-btn').style.display = 'none';
        document.getElementById('submit-btn').style.display = 'inline-block';
    }

    function submitAnswer() {
        const correctArr = scenarios[currentIdx].correct;
        const feedbackEl = document.getElementById('feedback');
        
        // æ£€æŸ¥é€‰æ‹©æ˜¯å¦å®Œå…¨æ­£ç¡®ï¼ˆä¸åˆ†é¡ºåºï¼‰
        const isCorrect = selectedAgents.length === correctArr.length && 
                          selectedAgents.every(a => correctArr.includes(a));

        feedbackEl.style.display = 'block';
        if (isCorrect) {
            score += 20;
            document.getElementById('score').innerText = score;
            feedbackEl.className = 'correct';
            feedbackEl.innerHTML = "<b>âœ… æŒ‡æŒ¥æ­£ç¡®ï¼</b><br>" + scenarios[currentIdx].explanation;
        } else {
            feedbackEl.className = 'wrong';
            feedbackEl.innerHTML = "<b>âŒ æ”¯æ´ä¸å½“ï¼</b><br>" + scenarios[currentIdx].explanation;
        }

        document.getElementById('submit-btn').style.display = 'none';
        document.getElementById('next-btn').style.display = 'inline-block';
    }

    function nextQuestion() {
        currentIdx++;
        loadScenario();
    }

    // åˆå§‹åŒ–
    loadScenario();
</script>

</body>
</html>